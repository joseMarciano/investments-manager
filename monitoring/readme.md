## How configure containers to run locally

## Elastic

To up container elastic

```
 docker-compose up -d elastic 
 ``` 

To reset elastic password:

```
docker exec -it elasticsearch /usr/share/elasticsearch/bin/elasticsearch-reset-password -u elastic
```

## Kibana

After elastic went up

```
 docker-compose up -d kibana 
 ``` 

To create enroll token to connect kibana in elastic

```
docker exec -it elasticsearch /usr/share/elasticsearch/bin/elasticsearch-create-enrollment-token -s kibana
```

To get verification code, check the ` docker logs kibana `. You will se something like bellow

````
Your verification code is:  849 845
````

To login in kibana, use ``elastic`` for user and the password generated by elasticsearch

## Metricbeat

In the `./metric-beat/metricbeat.yml` you must put the password generated by the elasticsearch 

````
output.elasticsearch:
hosts: ["localhost:9200"]
protocol: "https"
ssl.certificate_authorities: /usr/elastic/certs/http_ca.crt
username: "elastic"
password: {GENERATED_PASSWORD} :arrow_left:
````

After that, run metricbeat container

```
 docker-compose up -d metric-beat 
 ``` 
